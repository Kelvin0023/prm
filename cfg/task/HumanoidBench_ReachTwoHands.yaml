name: ReachTwoHands
_target_: tasks.humanoid.reach_two_hands.ReachTwoHands

physics_engine: physx

reset_select_style: naive
reset_at_goal: False
at_goal_threshold: 0.1

env:
  numEnvs: ${resolve_default:16384,${....num_envs}}
  envSpacing: 50
  episodeLength: 200
  enableDebugVis: False

  # default root state and joint pos
  default_root_state: [0, 0, 0.95, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0]
  default_joint_pos: [0, 0, -0.4, 0.8, -0.4, 0, 0, -0.4, 0.8, -0.4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

  # DOF limits
  dof_lower_limit: [-0.43, -0.43, -3.14, -0.26, -0.87, -0.43, -0.43, -3.14, -0.26, -0.87, -2.35, -2.87, -0.34, -1.3, -1.25, -0.15, -2.87, -3.11, -4.45, -1.25, -0.15]
  dof_upper_limit: [0.43, 0.43, 2.53, 2.05, 0.52, 0.43, 0.43, 2.53, 2.05, 0.52, 2.35, 2.87, 3.11, 4.45, 2.61, 1.57, 2.87, 0.34, 1.3, 2.61, 1.57]

  # target position
  target_low: [-2, -2, 0.3]
  target_high: [2, 2, 1.8]

  # reward parameters
  headingWeight: 0.5
  upWeight: 0.1

  # termination parameters
  termination_height_lower: 0.6
  termination_height_upper: 1.1
  torso_pos_lower: 0.85

  # constraint parameters
  rrt_height_lower: 0.8
  rrt_height_upper: 1.1

  # friction parameters of the plane
  plane:
    staticFriction: 1.0
    dynamicFriction: 0.01
    restitution: 0.0

  # set to True if you use camera sensors in the environment
  enableCameraSensors: False

  # goal parameters
  goal_pos_low: [-3, -3, 0.8]
  goal_pos_high: [3, 3, 1.1]


sim:
  dt: 0.0166 # 1/60 s
  substeps: 2
  up_axis: "z"
  use_gpu_pipeline: ${eq:${....pipeline},"gpu"}
  gravity: [ 0.0, 0.0, -9.81 ]
  physx:
    num_threads: 4
    solver_type: 1
    use_gpu: ${contains:"cuda",${.....sim_device}} # set to False to run on CPU
    num_position_iterations: 4
    num_velocity_iterations: 0
    contact_offset: 0.02
    rest_offset: 0.0
    bounce_threshold_velocity: 0.2
    max_depenetration_velocity: 10.0
    default_buffer_size_multiplier: 5.0
    max_gpu_contact_pairs: 8388608 # 8*1024*1024
    num_subscenes: 0
    contact_collection: 0 # 0: CC_NEVER (don't collect contact info), 1: CC_LAST_SUBSTEP (collect only contacts on last substep), 2: CC_ALL_SUBSTEPS (broken - do not use!)


